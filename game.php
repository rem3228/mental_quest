<?php

// Основная функция запуска игры
function start_game() {
    echo "Добро пожаловать в 'Психический Квест'!" . PHP_EOL;
    echo "Вы начинаете свое путешествие в темной комнате..." . PHP_EOL;

    // Переход в первую комнату
    first_room();
}

// Первая комната
function first_room() {
    echo "Вы находитесь в темной комнате с двумя дверями." . PHP_EOL;
    echo "1. Войти в левую дверь." . PHP_EOL;
    echo "2. Войти в правую дверь." . PHP_EOL;
    echo "Выберите (1 или 2): ";

    $choice = trim(fgets(STDIN));

    if ($choice == '1') {
        echo "Вы выбрали левую дверь и вошли в следующую комнату." . PHP_EOL;
        second_room(); // Переход во вторую комнату
    } elseif ($choice == '2') {
        echo "Вы выбрали правую дверь и вошли в следующую комнату." . PHP_EOL;
        second_room(); // Переход во вторую комнату
    } else {
        echo "Неправильный выбор. Попробуйте снова." . PHP_EOL;
        first_room(); // Повторяем комнату
    }
}

// Вторая комната
function second_room() {
    echo "Вы находитесь в освещенной комнате с тремя кнопками на стене." . PHP_EOL;
    echo "1. Нажать синюю кнопку." . PHP_EOL;
    echo "2. Нажать красную кнопку." . PHP_EOL;
    echo "3. Нажать зеленую кнопку." . PHP_EOL;
    echo "Выберите (1, 2 или 3): ";

    $choice = trim(fgets(STDIN));

    if ($choice == '1') {
        echo "Вы нажали синюю кнопку, и открылась тайная дверь." . PHP_EOL;
        // Продолжение игры...
    } elseif ($choice == '2') {
        echo "Вы нажали красную кнопку, и из потолка начала капать вода." . PHP_EOL;
        // Продолжение игры...
    } elseif ($choice == '3') {
        echo "Вы нажали зеленую кнопку, и зажглись яркие лампы." . PHP_EOL;
        // Продолжение игры...
    } else {
        echo "Неправильный выбор. Попробуйте снова." . PHP_EOL;
        second_room(); // Повторяем комнату
    }
}

// Запуск игры
start_game();

?>
